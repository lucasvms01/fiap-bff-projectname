<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>English Vocab Helper</title>

    <!-- Tailwind (CDN) -->
    <script src="https://cdn.tailwindcss.com"></script>

    <meta
      name="description"
      content="Estude vocabul√°rio em ingl√™s com descri√ß√£o, casos de uso e valida√ß√£o de frases."
    />
  </head>

  <body class="min-h-screen bg-slate-950 text-slate-100">
    <!-- Top Bar -->
    <header class="border-b border-white/10 bg-slate-950/70 backdrop-blur">
      <div class="mx-auto flex max-w-6xl items-center justify-between px-4 py-5">
        <div class="flex items-center gap-3">
          <div
            class="grid h-10 w-10 place-items-center rounded-2xl bg-indigo-500/15 ring-1 ring-indigo-400/30"
          >
            <span class="text-xl">üìò</span>
          </div>
          <div>
            <h1 class="text-lg font-semibold leading-tight">English Vocab Helper</h1>
            <p class="text-sm text-slate-300">
              Palavras, descri√ß√£o, casos de uso e valida√ß√£o de frases
            </p>
          </div>
        </div>

        <div class="flex items-center gap-2">
          <a
            id="endpointLink"
            href="#"
            target="_blank"
            rel="noreferrer"
            class="hidden rounded-xl bg-white/5 px-3 py-2 text-sm text-slate-200 ring-1 ring-white/10 hover:bg-white/10 sm:inline"
          >
            Ver endpoint
          </a>
          <button
            id="btnSettings"
            class="rounded-xl bg-white/5 px-3 py-2 text-sm text-slate-200 ring-1 ring-white/10 hover:bg-white/10"
            title="Configurar endpoint"
          >
            ‚öôÔ∏è
          </button>
        </div>
      </div>
    </header>

    <!-- Main -->
    <main class="mx-auto max-w-6xl px-4 py-8">
      <section class="grid gap-4 lg:grid-cols-12">
        <!-- Left: Flow -->
        <div class="lg:col-span-7">
          <!-- Step 1 -->
          <div class="rounded-3xl bg-white/5 p-6 ring-1 ring-white/10">
            <div class="flex items-start justify-between gap-4">
              <div>
                <div class="text-xs text-slate-400">Passo 1</div>
                <h2 class="text-xl font-semibold">Gerar palavras</h2>
                <p class="mt-1 text-sm text-slate-300">
                  Busque um conjunto de palavras do BFF. Depois, selecione uma palavra e escreva
                  uma frase usando ela.
                </p>
              </div>

              <div class="flex items-center gap-2">
                <button
                  id="btnFetch"
                  class="rounded-2xl bg-indigo-500 px-4 py-3 font-semibold text-white hover:bg-indigo-400 disabled:cursor-not-allowed disabled:opacity-60"
                >
                  Gerar palavras
                </button>
                <button
                  id="btnClear"
                  class="rounded-2xl bg-white/5 px-4 py-3 font-semibold text-slate-100 ring-1 ring-white/10 hover:bg-white/10"
                >
                  Limpar
                </button>
              </div>
            </div>

            <div class="mt-4 grid gap-3 md:grid-cols-2">
              <div>
                <label class="block text-xs text-slate-400" for="filterInput">Filtrar por palavra</label>
                <input
                  id="filterInput"
                  type="text"
                  placeholder="ex: improve"
                  class="mt-1 w-full rounded-2xl bg-slate-900/60 px-4 py-3 text-sm text-slate-100 ring-1 ring-white/10 placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-indigo-500"
                />
              </div>

              <div>
                <label class="block text-xs text-slate-400" for="wordSelect">Palavra selecionada</label>
                <select
                  id="wordSelect"
                  class="mt-1 w-full rounded-2xl bg-slate-900/60 px-4 py-3 text-sm text-slate-100 ring-1 ring-white/10 focus:outline-none focus:ring-2 focus:ring-indigo-500"
                >
                  <option value="">‚Äî gere as palavras ‚Äî</option>
                </select>
              </div>
            </div>

            <div class="mt-4 flex flex-wrap items-center gap-2 text-xs text-slate-400">
              <span class="rounded-full bg-white/5 px-3 py-1 ring-1 ring-white/10">HTML + JS</span>
              <span class="rounded-full bg-white/5 px-3 py-1 ring-1 ring-white/10">Tailwind CDN</span>
              <span class="rounded-full bg-white/5 px-3 py-1 ring-1 ring-white/10">Valida√ß√£o via LanguageTool</span>
              <span class="rounded-full bg-white/5 px-3 py-1 ring-1 ring-white/10">Atalho: Ctrl+Enter valida</span>
            </div>
          </div>

          <!-- Step 2: Word Details -->
          <div class="mt-4 rounded-3xl bg-white/5 p-6 ring-1 ring-white/10">
            <div class="flex items-center justify-between gap-3">
              <div>
                <div class="text-xs text-slate-400">Passo 2</div>
                <h3 class="text-lg font-semibold">Descri√ß√£o e casos de uso</h3>
                <p class="mt-1 text-sm text-slate-300">
                  Aqui voc√™ v√™ a explica√ß√£o e exemplos de uso para a palavra selecionada.
                </p>
              </div>

              <button
                id="btnCopyWord"
                class="rounded-2xl bg-white/5 px-4 py-3 text-sm font-semibold text-slate-100 ring-1 ring-white/10 hover:bg-white/10 disabled:cursor-not-allowed disabled:opacity-60"
                disabled
                title="Copiar palavra"
              >
                Copiar palavra
              </button>
            </div>

            <div id="wordMeta" class="mt-4 grid gap-3 md:grid-cols-2">
              <div class="rounded-2xl bg-slate-900/60 p-4 ring-1 ring-white/10">
                <div class="text-xs font-semibold text-slate-300">Word</div>
                <div id="wordLabel" class="mt-1 text-lg font-semibold text-slate-100">‚Äî</div>
              </div>

              <div class="rounded-2xl bg-slate-900/60 p-4 ring-1 ring-white/10">
                <div class="text-xs font-semibold text-slate-300">Dica r√°pida</div>
                <div id="hintLabel" class="mt-1 text-sm text-slate-200">
                  Selecione uma palavra para come√ßar.
                </div>
              </div>

              <div class="md:col-span-2 rounded-2xl bg-slate-900/60 p-4 ring-1 ring-white/10">
                <div class="text-xs font-semibold text-slate-300">Description</div>
                <div id="descLabel" class="mt-1 text-sm text-slate-200">‚Äî</div>
              </div>

              <div class="md:col-span-2 rounded-2xl bg-slate-900/60 p-4 ring-1 ring-white/10">
                <div class="text-xs font-semibold text-slate-300">Use case</div>
                <div id="useLabel" class="mt-1 text-sm text-slate-200">‚Äî</div>
              </div>
            </div>
          </div>

          <!-- Step 3: Sentence Trainer -->
          <div class="mt-4 rounded-3xl bg-white/5 p-6 ring-1 ring-white/10">
            <div class="flex items-start justify-between gap-4">
              <div>
                <div class="text-xs text-slate-400">Passo 3</div>
                <h3 class="text-lg font-semibold">Escreva uma frase e valide</h3>
                <p class="mt-1 text-sm text-slate-300">
                  Escreva uma frase em ingl√™s usando a palavra selecionada. Vamos checar gram√°tica,
                  clareza e sugerir melhorias.
                </p>
              </div>

              <button
                id="btnValidate"
                class="rounded-2xl bg-emerald-500 px-4 py-3 text-sm font-semibold text-white hover:bg-emerald-400 disabled:cursor-not-allowed disabled:opacity-60"
                disabled
              >
                Validar frase
              </button>
            </div>

            <div class="mt-4">
              <label class="block text-xs text-slate-400" for="sentenceInput">Sua frase (em ingl√™s)</label>
              <textarea
                id="sentenceInput"
                rows="4"
                placeholder="Ex: I want to improve my English vocabulary by practicing every day."
                class="mt-1 w-full resize-none rounded-2xl bg-slate-900/60 px-4 py-3 text-sm text-slate-100 ring-1 ring-white/10 placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-emerald-500"
                disabled
              ></textarea>

              <div class="mt-2 flex flex-wrap items-center justify-between gap-2 text-xs text-slate-400">
                <div id="wordUsageHint">Selecione uma palavra para habilitar o treino.</div>
                <div>
                  <span class="rounded-full bg-white/5 px-3 py-1 ring-1 ring-white/10">
                    Auto: valida quando voc√™ parar de digitar
                  </span>
                </div>
              </div>
            </div>

            <!-- Validation Results -->
            <div id="validationBox" class="mt-4 hidden rounded-2xl p-4 text-sm ring-1"></div>

            <div class="mt-4 grid gap-3 md:grid-cols-2">
              <div class="rounded-2xl bg-slate-900/60 p-4 ring-1 ring-white/10">
                <div class="text-xs font-semibold text-slate-300">Sugest√µes (melhorias)</div>
                <ul id="suggestionsList" class="mt-2 space-y-2 text-sm text-slate-200">
                  <li class="text-slate-400">‚Äî</li>
                </ul>
              </div>

              <div class="rounded-2xl bg-slate-900/60 p-4 ring-1 ring-white/10">
                <div class="text-xs font-semibold text-slate-300">Frase sugerida (opcional)</div>
                <div id="betterSentence" class="mt-2 text-sm text-slate-200 text-slate-400">‚Äî</div>

                <div class="mt-3 flex gap-2">
                  <button
                    id="btnApplySuggestion"
                    class="rounded-2xl bg-white/5 px-4 py-2 text-sm font-semibold text-slate-100 ring-1 ring-white/10 hover:bg-white/10 disabled:cursor-not-allowed disabled:opacity-60"
                    disabled
                  >
                    Aplicar sugest√£o
                  </button>

                  <button
                    id="btnCopySentence"
                    class="rounded-2xl bg-white/5 px-4 py-2 text-sm font-semibold text-slate-100 ring-1 ring-white/10 hover:bg-white/10 disabled:cursor-not-allowed disabled:opacity-60"
                    disabled
                  >
                    Copiar frase
                  </button>
                </div>
              </div>
            </div>

            <p class="mt-4 text-xs text-slate-500">
              * Valida√ß√£o de gram√°tica e estilo via LanguageTool (servi√ßo p√∫blico). Se falhar, mostramos uma valida√ß√£o b√°sica.
            </p>
          </div>
        </div>

        <!-- Right: Words List -->
        <aside class="lg:col-span-5">
          <div class="rounded-3xl bg-white/5 p-6 ring-1 ring-white/10">
            <div class="flex items-center justify-between">
              <h3 class="text-lg font-semibold">Resultados</h3>
              <p id="countLabel" class="text-sm text-slate-300">0 itens</p>
            </div>

            <div id="statusBox" class="mt-4 hidden rounded-2xl p-4 text-sm ring-1"></div>

            <div id="cards" class="mt-4 grid gap-3"></div>
          </div>

          <div class="mt-4 rounded-3xl bg-white/5 p-6 ring-1 ring-white/10">
            <h3 class="text-lg font-semibold">Dicas de usabilidade</h3>
            <ul class="mt-3 list-disc space-y-2 pl-5 text-sm text-slate-300">
              <li>Gere as palavras e selecione uma no dropdown.</li>
              <li>Escreva uma frase usando a palavra e pressione <b>Ctrl + Enter</b> para validar.</li>
              <li>Use o filtro para achar uma palavra rapidamente.</li>
              <li>Copie a palavra e a frase com um clique.</li>
            </ul>
          </div>
        </aside>
      </section>

      <footer class="mt-10 border-t border-white/10 pt-6 text-center text-xs text-slate-500">
        Feito para Front-end Engineering (FIAP).
      </footer>
    </main>

    <!-- Modal: Settings -->
    <div id="settingsModal" class="fixed inset-0 hidden items-center justify-center bg-black/60 p-4">
      <div class="w-full max-w-xl rounded-3xl bg-slate-950 p-6 ring-1 ring-white/10">
        <div class="flex items-start justify-between gap-4">
          <div>
            <h3 class="text-lg font-semibold">Configurar endpoint do BFF</h3>
            <p class="mt-1 text-sm text-slate-300">
              Ajuste a URL do endpoint <code>/ask</code>. Padr√£o: Render.
            </p>
          </div>
          <button
            id="btnCloseSettings"
            class="rounded-xl bg-white/5 px-3 py-2 text-sm text-slate-200 ring-1 ring-white/10 hover:bg-white/10"
          >
            ‚úï
          </button>
        </div>

        <div class="mt-4">
          <label class="block text-xs text-slate-400" for="apiUrlInput">URL completa do endpoint</label>
          <input
            id="apiUrlInput"
            type="text"
            class="mt-1 w-full rounded-2xl bg-slate-900/60 px-4 py-3 text-sm text-slate-100 ring-1 ring-white/10 focus:outline-none focus:ring-2 focus:ring-indigo-500"
            placeholder="https://fiap-bff-9aojr.onrender.com/ask"
          />
          <p class="mt-2 text-xs text-slate-500">
            Dica: se voc√™ rodar local, pode ser algo como <code>http://localhost:3001/ask</code>.
          </p>
        </div>

        <div class="mt-5 flex justify-end gap-2">
          <button
            id="btnResetApi"
            class="rounded-2xl bg-white/5 px-4 py-3 text-sm font-semibold text-slate-100 ring-1 ring-white/10 hover:bg-white/10"
          >
            Reset
          </button>
          <button
            id="btnSaveApi"
            class="rounded-2xl bg-indigo-500 px-4 py-3 text-sm font-semibold text-white hover:bg-indigo-400"
          >
            Salvar
          </button>
        </div>
      </div>
    </div>

    <script src="./app.js"></script>
  </body>
</html>
